<div align="center">

# Finans Nova

### Telegram-–±–æ—Ç –¥–ª—è —É—á—ë—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º –≤–≤–æ–¥–æ–º –∏ AI-–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–µ–π

[![Python](https://img.shields.io/badge/Python-3.11+-3776AB?style=flat&logo=python&logoColor=white)](https://python.org)
[![Telegram Bot](https://img.shields.io/badge/Telegram-Bot-26A5E4?style=flat&logo=telegram&logoColor=white)](https://core.telegram.org/bots)
[![License](https://img.shields.io/badge/License-MIT-green.svg?style=flat)](LICENSE)
[![Code Size](https://img.shields.io/github/languages/code-size/zavet-g/finans-nova?style=flat&color=blue)](https://github.com/zavet-g/finans-nova)

![GitHub last commit](https://img.shields.io/github/last-commit/zavet-g/finans-nova?style=flat)
![GitHub commit activity](https://img.shields.io/github/commit-activity/m/zavet-g/finans-nova?style=flat&color=green)
![Top Language](https://img.shields.io/github/languages/top/zavet-g/finans-nova?style=flat&color=yellow)

</div>

---

<div align="center">

[![Typing SVG](https://readme-typing-svg.demolab.com?font=Fira+Code&size=18&duration=3000&pause=1000&color=3776AB&center=true&vCenter=true&width=500&height=50&lines=Voice+%E2%86%92+AI+%E2%86%92+Google+Sheets;Personal+Finance+Automation)](https://git.io/typing-svg)

</div>

## –°—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

–ì–æ–≤–æ—Ä–∏—à—å –∏–ª–∏ –ø–∏—à–µ—à—å ‚Äî –±–æ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç, –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä—É–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ Google Sheets. Whisper STT –ª–æ–∫–∞–ª—å–Ω–æ, YandexGPT –¥–ª—è AI-–∞–Ω–∞–ª–∏–∑–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏.

```
–ì–æ–ª–æ—Å/–¢–µ–∫—Å—Ç ‚Üí Whisper ‚Üí YandexGPT ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí Google Sheets
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

<div align="center">

![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![PyTorch](https://img.shields.io/badge/PyTorch-EE4C2C?style=for-the-badge&logo=pytorch&logoColor=white)
![Telegram](https://img.shields.io/badge/Telegram-26A5E4?style=for-the-badge&logo=telegram&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![Google Sheets](https://img.shields.io/badge/Google_Sheets-34A853?style=for-the-badge&logo=google-sheets&logoColor=white)

</div>

**Core:** python-telegram-bot ‚Ä¢ OpenAI Whisper ‚Ä¢ YandexGPT ‚Ä¢ Google Sheets API ‚Ä¢ matplotlib ‚Ä¢ APScheduler

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

<table>
<tr>
<td width="50%">

### üé§ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
- Whisper STT (–º–æ–¥–µ–ª—å medium)
- –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OGG/WAV

### ü§ñ AI-–∞–Ω–∞–ª–∏–∑
- YandexGPT –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ
- Fallback –Ω–∞ keywords

</td>
<td width="50%">

### üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ö—Ä—É–≥–æ–≤—ã–µ –∏ —Å—Ç–æ–ª–±—á–∞—Ç—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
- AI-–æ—Ç—á—ë—Ç—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ—à–ª—ã–º–∏ –º–µ—Å—è—Ü–∞–º–∏

### üíæ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- CSV-—Ñ–æ—Ä–º–∞—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets

</td>
</tr>
</table>

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Ä¢ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** ‚Ä¢ **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** ‚Ä¢ **Production-ready**

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- FFmpeg
- Google Service Account

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
pip install -r requirements.txt
cp .env.example .env
python src/main.py
```

### Docker

```bash
docker compose up -d
# –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Makefile
make run
make logs
make stop
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
TELEGRAM_BOT_TOKEN=             # BotFather —Ç–æ–∫–µ–Ω
YANDEX_GPT_API_KEY=             # Yandex Cloud API –∫–ª—é—á
YANDEX_GPT_FOLDER_ID=           # Yandex Cloud folder ID
GOOGLE_SHEETS_CREDENTIALS_FILE= # –ø—É—Ç—å –∫ service_account.json
GOOGLE_SHEETS_SPREADSHEET_ID=   # ID —Ç–∞–±–ª–∏—Ü—ã
ALLOWED_USER_IDS=               # —Å–ø–∏—Å–æ–∫ user_id —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ handlers/      # voice, text, callbacks, menu
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py   # inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ states.py      # —Å–æ—Å—Ç–æ—è–Ω–∏—è ConversationHandler
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ speech.py      # Whisper STT
‚îÇ   ‚îú‚îÄ‚îÄ ai_analyzer.py # YandexGPT
‚îÇ   ‚îú‚îÄ‚îÄ sheets.py      # Google Sheets CRUD
‚îÇ   ‚îú‚îÄ‚îÄ charts.py      # matplotlib –≥—Ä–∞—Ñ–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ scheduler.py   # APScheduler
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ transaction.py # Pydantic –º–æ–¥–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ category.py    # –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ audio.py       # FFmpeg –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
    ‚îî‚îÄ‚îÄ formatters.py  # —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
```

### Google Sheets —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

<div align="center">

```mermaid
graph LR
    A[Telegram Bot] -->|–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è| B[–õ–∏—Å—Ç: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏]
    B -->|–§–æ—Ä–º—É–ª—ã| C[–õ–∏—Å—Ç: –°–≤–æ–¥–∫–∞]
    C -->|–ê–Ω–∞–ª–∏—Ç–∏–∫–∞| D[AI –û—Ç—á—ë—Ç—ã]
    C -->|–ì—Ä–∞—Ñ–∏–∫–∏| E[–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è]
```

</div>

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è 2 –ª–∏—Å—Ç–∞:

- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** ‚Äî –º–∞—Å—Ç–µ—Ä-–ª–æ–≥ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—á—ë—Ç–æ–º –±–∞–ª–∞–Ω—Å–∞
- **–°–≤–æ–¥–∫–∞** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞, —Ä–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Ñ–æ—Ä–º—É–ª—ã SUMIFS

## –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

<table>
<tr>
<td align="center" width="33%">
<img src="https://img.icons8.com/fluency/96/artificial-intelligence.png" width="64" height="64" alt="AI"/>
<br>
<b>–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è AI</b>
<br>
<sub>YandexGPT –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç:<br>"—Ç–∞–∫—Å–∏ –¥–æ —Ä–∞–±–æ—Ç—ã" ‚Üí –∫–∞—Ç–µ–≥–æ—Ä–∏—è –¢–∞–∫—Å–∏,<br>–æ–ø–∏—Å–∞–Ω–∏–µ "–î–æ —Ä–∞–±–æ—Ç—ã"</sub>
</td>
<td align="center" width="33%">
<img src="https://img.icons8.com/fluency/96/lock.png" width="64" height="64" alt="Privacy"/>
<br>
<b>–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</b>
<br>
<sub>Whisper —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ,<br>–¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º<br>Google Sheets</sub>
</td>
<td align="center" width="33%">
<img src="https://img.icons8.com/fluency/96/documents.png" width="64" height="64" alt="Batch"/>
<br>
<b>Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞</b>
<br>
<sub>"–æ–±–µ–¥ 400, –∫–æ—Ñ–µ 250, —Ç–∞–∫—Å–∏ 500"<br>‚Üí —Ç—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏<br>—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</sub>
</td>
</tr>
</table>

**–õ–æ–∫–∞–ª—å–Ω—ã–π Whisper** ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö STT API.

**–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** ‚Äî "–æ–±–µ–¥ 400, –∫–æ—Ñ–µ 250, —Ç–∞–∫—Å–∏ 500" ‚Üí —Ç—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏.

**Fallback-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è** ‚Äî –µ—Å–ª–∏ YandexGPT –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º.

## Production-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ë–æ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –º–µ—Å—è—Ü–∞–º–∏ –±–µ–∑ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

<table>
<tr>
<td width="50%">

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- HTTP connection pooling –¥–ª—è API
- Async Google Sheets executor
- Exponential backoff retry
- –¢–∞–π–º–∞—É—Ç—ã: <1% –∑–∞–ø—Ä–æ—Å–æ–≤

### üõ°Ô∏è –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å
- Circuit breaker –¥–ª—è API
- Rate limiting (20 req/min)
- Global error handling
- Graceful degradation

</td>
<td width="50%">

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Health check —Å–∏—Å—Ç–µ–º–∞
- Uptime, –ø–∞–º—è—Ç—å, CPU
- Error rate tracking
- Resource monitoring —Å auto-GC

### üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- Structured logging
- Rotation (10MB, 5 backups)
- –û—Ç–¥–µ–ª—å–Ω—ã–π error.log
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

</td>
</tr>
</table>

**–ö–æ–º–∞–Ω–¥—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
- `/health` ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞, —Ä–µ—Å—É—Ä—Å–æ–≤, API
- `/stats` ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–Ω–æ–ø–∫–∞ "üîß –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é

<div align="center">

![Performance](https://img.shields.io/badge/Uptime-99.9%25-success?style=for-the-badge)
![Response Time](https://img.shields.io/badge/Response-<10s-blue?style=for-the-badge)
![Memory](https://img.shields.io/badge/Memory-Stable-green?style=for-the-badge)

</div>

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

<div align="center">

[![GitHub stars](https://img.shields.io/github/stars/zavet-g/finans-nova?style=for-the-badge&logo=github&color=yellow)](https://github.com/zavet-g/finans-nova/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/zavet-g/finans-nova?style=for-the-badge&logo=github&color=blue)](https://github.com/zavet-g/finans-nova/network/members)
[![GitHub issues](https://img.shields.io/github/issues/zavet-g/finans-nova?style=for-the-badge&logo=github&color=red)](https://github.com/zavet-g/finans-nova/issues)

</div>
